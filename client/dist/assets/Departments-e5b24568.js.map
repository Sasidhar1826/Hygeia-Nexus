{"version":3,"file":"Departments-e5b24568.js","sources":["../../src/pages/Departments.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { motion } from \"framer-motion\";\nimport { FaHospital, FaSearch } from \"react-icons/fa\";\nimport Card from \"../components/ui/Card\";\nimport api from \"../services/apiService\";\n\nconst DepartmentsContainer = styled.div`\n  padding: ${(props) => props.theme.spacing(3)};\n`;\n\nconst Header = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: ${(props) => props.theme.spacing(4)};\n`;\n\nconst Title = styled.h1`\n  font-size: 1.8rem;\n  color: ${(props) => props.theme.colors.text.primary};\n`;\n\nconst SearchContainer = styled.div`\n  display: flex;\n  align-items: center;\n  background-color: ${(props) => props.theme.colors.background.paper};\n  border-radius: ${(props) => props.theme.borderRadius.medium};\n  padding: ${(props) => props.theme.spacing(1)};\n  width: 300px;\n  border: 1px solid ${(props) => props.theme.colors.border};\n\n  svg {\n    margin: 0 ${(props) => props.theme.spacing(1)};\n    color: ${(props) => props.theme.colors.text.secondary};\n  }\n\n  input {\n    flex: 1;\n    border: none;\n    background: transparent;\n    padding: ${(props) => props.theme.spacing(1)};\n    font-size: 0.9rem;\n    color: ${(props) => props.theme.colors.text.primary};\n\n    &:focus {\n      outline: none;\n    }\n  }\n`;\n\nconst DepartmentsGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n  gap: ${(props) => props.theme.spacing(3)};\n`;\n\nconst DepartmentCard = styled(motion(Card))`\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  overflow: hidden;\n`;\n\nconst DepartmentImage = styled.div`\n  height: 200px;\n  background-image: url(${(props) =>\n    props.image || \"https://via.placeholder.com/300x200?text=Department\"});\n  background-size: cover;\n  background-position: center;\n  border-top-left-radius: ${(props) => props.theme.borderRadius.medium};\n  border-top-right-radius: ${(props) => props.theme.borderRadius.medium};\n`;\n\nconst DepartmentContent = styled.div`\n  padding: ${(props) => props.theme.spacing(2)};\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n`;\n\nconst DepartmentName = styled.h2`\n  font-size: 1.2rem;\n  margin-bottom: ${(props) => props.theme.spacing(1)};\n  color: ${(props) => props.theme.colors.primary.main};\n`;\n\nconst DepartmentDescription = styled.p`\n  font-size: 0.9rem;\n  color: ${(props) => props.theme.colors.text.secondary};\n  margin-bottom: ${(props) => props.theme.spacing(2)};\n  flex: 1;\n`;\n\nconst ViewDoctorsButton = styled(Link)`\n  display: inline-block;\n  background-color: ${(props) => props.theme.colors.primary.main};\n  color: white;\n  padding: ${(props) => props.theme.spacing(1)}\n    ${(props) => props.theme.spacing(2)};\n  border-radius: ${(props) => props.theme.borderRadius.small};\n  text-decoration: none;\n  text-align: center;\n  font-weight: 500;\n  transition: background-color 0.3s;\n\n  &:hover {\n    background-color: ${(props) => props.theme.colors.primary.dark};\n  }\n`;\n\nconst LoadingMessage = styled.div`\n  text-align: center;\n  padding: ${(props) => props.theme.spacing(4)};\n  color: ${(props) => props.theme.colors.text.secondary};\n`;\n\nconst ErrorMessage = styled.div`\n  text-align: center;\n  padding: ${(props) => props.theme.spacing(4)};\n  color: ${(props) => props.theme.colors.status.error};\n`;\n\nconst Departments = () => {\n  const [departments, setDepartments] = useState([]);\n  const [filteredDepartments, setFilteredDepartments] = useState([]);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchDepartments = async () => {\n      try {\n        setLoading(true);\n        const response = await api.get(\"/departments\");\n        setDepartments(response.data);\n        setFilteredDepartments(response.data);\n        setLoading(false);\n      } catch (error) {\n        console.error(\"Error fetching departments:\", error);\n        setError(\"Failed to load departments. Please try again later.\");\n        setLoading(false);\n      }\n    };\n\n    fetchDepartments();\n  }, []);\n\n  useEffect(() => {\n    if (searchTerm.trim() === \"\") {\n      setFilteredDepartments(departments);\n    } else {\n      const filtered = departments.filter(\n        (dept) =>\n          dept.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n          dept.description.toLowerCase().includes(searchTerm.toLowerCase())\n      );\n      setFilteredDepartments(filtered);\n    }\n  }, [searchTerm, departments]);\n\n  if (loading) {\n    return <LoadingMessage>Loading departments...</LoadingMessage>;\n  }\n\n  if (error) {\n    return <ErrorMessage>{error}</ErrorMessage>;\n  }\n\n  return (\n    <DepartmentsContainer>\n      <Header>\n        <Title>Medical Departments</Title>\n        <SearchContainer>\n          <FaSearch />\n          <input\n            type=\"text\"\n            placeholder=\"Search departments...\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n          />\n        </SearchContainer>\n      </Header>\n\n      {filteredDepartments.length === 0 ? (\n        <ErrorMessage>No departments found matching your search.</ErrorMessage>\n      ) : (\n        <DepartmentsGrid>\n          {filteredDepartments.map((department) => (\n            <DepartmentCard\n              key={department._id}\n              whileHover={{ y: -5 }}\n              transition={{ duration: 0.2 }}\n            >\n              <DepartmentImage image={department.image} />\n              <DepartmentContent>\n                <DepartmentName>{department.name}</DepartmentName>\n                <DepartmentDescription>\n                  {department.description}\n                </DepartmentDescription>\n                <ViewDoctorsButton to={`/doctors?department=${department._id}`}>\n                  View Doctors\n                </ViewDoctorsButton>\n              </DepartmentContent>\n            </DepartmentCard>\n          ))}\n        </DepartmentsGrid>\n      )}\n    </DepartmentsContainer>\n  );\n};\n\nexport default Departments;\n"],"names":["DepartmentsContainer","styled","props","Header","Title","SearchContainer","DepartmentsGrid","DepartmentCard","motion","Card","DepartmentImage","DepartmentContent","DepartmentName","DepartmentDescription","ViewDoctorsButton","Link","LoadingMessage","ErrorMessage","Departments","departments","setDepartments","useState","filteredDepartments","setFilteredDepartments","searchTerm","setSearchTerm","loading","setLoading","error","setError","useEffect","response","api","filtered","dept","jsx","jsxs","FaSearch","e","department"],"mappings":"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"}