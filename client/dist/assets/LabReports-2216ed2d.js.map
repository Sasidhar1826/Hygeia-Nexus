{"version":3,"file":"LabReports-2216ed2d.js","sources":["../../src/pages/lab/LabReports.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { motion } from \"framer-motion\";\nimport { FaFileMedical, FaSearch, FaFilter, FaDownload } from \"react-icons/fa\";\nimport PageTransition from \"../../components/animations/PageTransition\";\nimport AnimationContainer from \"../../components/animations/AnimationContainer\";\nimport { useAuth } from \"../../context/AuthContext\";\nimport LabReportCard from \"../../components/medical/LabReportCard\";\nimport ViewLabReport from \"../../components/modals/ViewLabReport\";\nimport api from \"../../services/apiService\";\n\nconst PageContainer = styled.div`\n  padding: ${(props) => props.theme.spacing(3)};\n`;\n\nconst Header = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: ${(props) => props.theme.spacing(3)};\n`;\n\nconst Title = styled.h1`\n  font-size: 1.5rem;\n  color: ${(props) => props.theme.colors.text.primary};\n`;\n\nconst SearchContainer = styled.div`\n  display: flex;\n  align-items: center;\n  gap: ${(props) => props.theme.spacing(2)};\n`;\n\nconst SearchInput = styled.div`\n  display: flex;\n  align-items: center;\n  padding: ${(props) => props.theme.spacing(1)}\n    ${(props) => props.theme.spacing(2)};\n  background-color: ${(props) => props.theme.colors.background.paper};\n  border-radius: ${(props) => props.theme.borderRadius.medium};\n  border: 1px solid ${(props) => props.theme.colors.border};\n\n  input {\n    border: none;\n    background: transparent;\n    outline: none;\n    margin-left: ${(props) => props.theme.spacing(1)};\n    font-size: 0.9rem;\n    color: ${(props) => props.theme.colors.text.primary};\n    width: 200px;\n  }\n`;\n\nconst FiltersContainer = styled.div`\n  display: flex;\n  gap: ${(props) => props.theme.spacing(2)};\n  margin-bottom: ${(props) => props.theme.spacing(3)};\n`;\n\nconst Filter = styled.select`\n  padding: ${(props) => props.theme.spacing(1)}\n    ${(props) => props.theme.spacing(2)};\n  border-radius: ${(props) => props.theme.borderRadius.small};\n  border: 1px solid ${(props) => props.theme.colors.border};\n  background-color: ${(props) => props.theme.colors.background.paper};\n  font-size: 0.9rem;\n  color: ${(props) => props.theme.colors.text.primary};\n  outline: none;\n`;\n\nconst ReportsContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: ${(props) => props.theme.spacing(3)};\n  width: 100%;\n`;\n\nconst ReportCard = styled(motion.div)`\n  padding: ${(props) => props.theme.spacing(2)};\n  background-color: ${(props) => props.theme.colors.background.paper};\n  border-radius: ${(props) => props.theme.borderRadius.medium};\n  box-shadow: ${(props) => props.theme.shadows.small};\n  display: flex;\n  flex-direction: column;\n  gap: ${(props) => props.theme.spacing(2)};\n`;\n\nconst ReportCardHeader = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding-bottom: ${(props) => props.theme.spacing(1)};\n  border-bottom: 1px solid ${(props) => props.theme.colors.border};\n`;\n\nconst ReportType = styled.h3`\n  font-size: 1.1rem;\n  color: ${(props) => props.theme.colors.text.primary};\n  font-weight: 600;\n  margin: 0;\n`;\n\nconst ReportInfo = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: ${(props) => props.theme.spacing(1)};\n`;\n\nconst InfoRow = styled.div`\n  display: flex;\n  justify-content: space-between;\n  font-size: 0.9rem;\n`;\n\nconst InfoLabel = styled.span`\n  color: ${(props) => props.theme.colors.text.secondary};\n  font-weight: 500;\n`;\n\nconst InfoValue = styled.span`\n  color: ${(props) => props.theme.colors.text.primary};\n`;\n\nconst Status = styled.span`\n  padding: ${(props) => props.theme.spacing(0.5)}\n    ${(props) => props.theme.spacing(1)};\n  border-radius: ${(props) => props.theme.borderRadius.small};\n  font-size: 0.8rem;\n  font-weight: 500;\n  background-color: ${(props) =>\n    props.status === \"completed\"\n      ? props.theme.colors.status.success + \"20\"\n      : props.theme.colors.status.warning + \"20\"};\n  color: ${(props) =>\n    props.status === \"completed\"\n      ? props.theme.colors.status.success\n      : props.theme.colors.status.warning};\n`;\n\nconst ResultsList = styled.div`\n  margin-top: ${(props) => props.theme.spacing(1)};\n`;\n\nconst ResultItem = styled.div`\n  display: flex;\n  justify-content: space-between;\n  padding: ${(props) => props.theme.spacing(0.5)} 0;\n  border-bottom: 1px dashed ${(props) => props.theme.colors.border};\n  font-size: 0.85rem;\n\n  &:last-child {\n    border-bottom: none;\n  }\n`;\n\nconst ActionButtons = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  gap: ${(props) => props.theme.spacing(1)};\n  margin-top: ${(props) => props.theme.spacing(1)};\n`;\n\nconst ActionButton = styled.button`\n  padding: ${(props) => props.theme.spacing(0.5)}\n    ${(props) => props.theme.spacing(1)};\n  border-radius: ${(props) => props.theme.borderRadius.small};\n  font-size: 0.8rem;\n  display: flex;\n  align-items: center;\n  gap: ${(props) => props.theme.spacing(0.5)};\n  cursor: pointer;\n  border: none;\n  background-color: ${(props) => props.theme.colors.primary.main + \"10\"};\n  color: ${(props) => props.theme.colors.primary.main};\n  transition: all 0.2s;\n\n  &:hover {\n    background-color: ${(props) => props.theme.colors.primary.main + \"20\"};\n  }\n`;\n\nconst EmptyState = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: ${(props) => props.theme.spacing(6)};\n  text-align: center;\n`;\n\nconst EmptyText = styled.p`\n  color: ${(props) => props.theme.colors.text.secondary};\n  margin-top: ${(props) => props.theme.spacing(2)};\n  font-size: 0.95rem;\n`;\n\nconst LabReports = () => {\n  const [reports, setReports] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [statusFilter, setStatusFilter] = useState(\"\");\n  const [typeFilter, setTypeFilter] = useState(\"\");\n  const { user } = useAuth();\n  const [selectedReport, setSelectedReport] = useState(null);\n  const [showReportModal, setShowReportModal] = useState(false);\n\n  useEffect(() => {\n    fetchLabReports();\n  }, []);\n\n  const fetchLabReports = async () => {\n    try {\n      setLoading(true);\n      // Using mock data for now\n      const filters = {};\n      if (user?.role === \"labtechnician\") {\n        filters.technician = user._id;\n      }\n      const data = await api.getLabReports(filters);\n      setReports(data);\n    } catch (error) {\n      console.error(\"Error fetching lab reports:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const filteredReports = reports.filter((report) => {\n    const matchesSearch =\n      searchTerm === \"\" ||\n      report.patient?.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      report.reportType.toLowerCase().includes(searchTerm.toLowerCase());\n\n    const matchesStatus = statusFilter === \"\" || report.status === statusFilter;\n\n    const matchesType = typeFilter === \"\" || report.reportType === typeFilter;\n\n    return matchesSearch && matchesStatus && matchesType;\n  });\n\n  const formatDate = (dateString) => {\n    const date = new Date(dateString);\n    return date.toLocaleDateString(\"en-US\", {\n      year: \"numeric\",\n      month: \"short\",\n      day: \"numeric\",\n    });\n  };\n\n  const handleViewReport = (report) => {\n    setSelectedReport(report);\n    setShowReportModal(true);\n  };\n\n  if (loading) {\n    return (\n      <PageTransition>\n        <AnimationContainer type=\"loading\" height=\"300px\" />\n      </PageTransition>\n    );\n  }\n\n  return (\n    <PageTransition>\n      <PageContainer>\n        <Header>\n          <Title>Lab Reports</Title>\n          <SearchContainer>\n            <SearchInput>\n              <FaSearch color=\"#888\" />\n              <input\n                type=\"text\"\n                placeholder=\"Search by patient or type\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n              />\n            </SearchInput>\n          </SearchContainer>\n        </Header>\n\n        <FiltersContainer>\n          <Filter\n            value={statusFilter}\n            onChange={(e) => setStatusFilter(e.target.value)}\n          >\n            <option value=\"\">All status</option>\n            <option value=\"completed\">Completed</option>\n            <option value=\"pending\">Pending</option>\n          </Filter>\n          <Filter\n            value={typeFilter}\n            onChange={(e) => setTypeFilter(e.target.value)}\n          >\n            <option value=\"\">All types</option>\n            <option value=\"Blood Test\">Blood Test</option>\n            <option value=\"Urine Analysis\">Urine Analysis</option>\n            <option value=\"X-Ray\">X-Ray</option>\n            <option value=\"CT Scan\">CT Scan</option>\n            <option value=\"MRI\">MRI</option>\n          </Filter>\n        </FiltersContainer>\n\n        {filteredReports.length > 0 ? (\n          <ReportsContainer>\n            {filteredReports.map((report) => (\n              <LabReportCard\n                key={report._id}\n                report={report}\n                onClick={handleViewReport}\n              />\n            ))}\n          </ReportsContainer>\n        ) : (\n          <EmptyState>\n            <AnimationContainer type=\"empty\" height=\"200px\" />\n            <EmptyText>\n              No lab reports found matching your filters. Try adjusting your\n              search criteria.\n            </EmptyText>\n          </EmptyState>\n        )}\n\n        <ViewLabReport\n          isOpen={showReportModal}\n          onClose={() => setShowReportModal(false)}\n          report={selectedReport}\n        />\n      </PageContainer>\n    </PageTransition>\n  );\n};\n\nexport default LabReports;\n"],"names":["PageContainer","styled","props","Header","Title","SearchContainer","SearchInput","FiltersContainer","Filter","ReportsContainer","motion","EmptyState","EmptyText","LabReports","reports","setReports","useState","loading","setLoading","searchTerm","setSearchTerm","statusFilter","setStatusFilter","typeFilter","setTypeFilter","user","useAuth","selectedReport","setSelectedReport","showReportModal","setShowReportModal","useEffect","fetchLabReports","filters","data","api","error","filteredReports","report","matchesSearch","_a","matchesStatus","matchesType","handleViewReport","jsx","PageTransition","AnimationContainer","jsxs","FaSearch","e","LabReportCard","ViewLabReport"],"mappings":"qVAWA,MAAMA,EAAgBC,EAAO;AAAA,aACfC,GAAUA,EAAM,MAAM,QAAQ,CAAC,CAAC;AAAA,EAGxCC,EAASF,EAAO;AAAA;AAAA;AAAA;AAAA,mBAIFC,GAAUA,EAAM,MAAM,QAAQ,CAAC,CAAC;AAAA,EAG9CE,EAAQH,EAAO;AAAA;AAAA,WAETC,GAAUA,EAAM,MAAM,OAAO,KAAK,OAAO;AAAA,EAG/CG,EAAkBJ,EAAO;AAAA;AAAA;AAAA,SAGrBC,GAAUA,EAAM,MAAM,QAAQ,CAAC,CAAC;AAAA,EAGpCI,EAAcL,EAAO;AAAA;AAAA;AAAA,aAGbC,GAAUA,EAAM,MAAM,QAAQ,CAAC,CAAC;AAAA,MACvCA,GAAUA,EAAM,MAAM,QAAQ,CAAC,CAAC;AAAA,sBAChBA,GAAUA,EAAM,MAAM,OAAO,WAAW,KAAK;AAAA,mBAChDA,GAAUA,EAAM,MAAM,aAAa,MAAM;AAAA,sBACtCA,GAAUA,EAAM,MAAM,OAAO,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAMtCA,GAAUA,EAAM,MAAM,QAAQ,CAAC,CAAC;AAAA;AAAA,aAEtCA,GAAUA,EAAM,MAAM,OAAO,KAAK,OAAO;AAAA;AAAA;AAAA,EAKjDK,EAAmBN,EAAO;AAAA;AAAA,SAEtBC,GAAUA,EAAM,MAAM,QAAQ,CAAC,CAAC;AAAA,mBACtBA,GAAUA,EAAM,MAAM,QAAQ,CAAC,CAAC;AAAA,EAG9CM,EAASP,EAAO;AAAA,aACRC,GAAUA,EAAM,MAAM,QAAQ,CAAC,CAAC;AAAA,MACvCA,GAAUA,EAAM,MAAM,QAAQ,CAAC,CAAC;AAAA,mBACnBA,GAAUA,EAAM,MAAM,aAAa,KAAK;AAAA,sBACrCA,GAAUA,EAAM,MAAM,OAAO,MAAM;AAAA,sBACnCA,GAAUA,EAAM,MAAM,OAAO,WAAW,KAAK;AAAA;AAAA,WAExDA,GAAUA,EAAM,MAAM,OAAO,KAAK,OAAO;AAAA;AAAA,EAI/CO,EAAmBR,EAAO;AAAA;AAAA;AAAA,SAGtBC,GAAUA,EAAM,MAAM,QAAQ,CAAC,CAAC;AAAA;AAAA,EAIvBD,EAAOS,EAAO,GAAG;AAAA,aACtBR,GAAUA,EAAM,MAAM,QAAQ,CAAC,CAAC;AAAA,sBACvBA,GAAUA,EAAM,MAAM,OAAO,WAAW,KAAK;AAAA,mBAChDA,GAAUA,EAAM,MAAM,aAAa,MAAM;AAAA,gBAC5CA,GAAUA,EAAM,MAAM,QAAQ,KAAK;AAAA;AAAA;AAAA,SAG1CA,GAAUA,EAAM,MAAM,QAAQ,CAAC,CAAC;AAAA,EAGjBD,EAAO;AAAA;AAAA;AAAA;AAAA,oBAIXC,GAAUA,EAAM,MAAM,QAAQ,CAAC,CAAC;AAAA,6BACvBA,GAAUA,EAAM,MAAM,OAAO,MAAM;AAAA,EAG9CD,EAAO;AAAA;AAAA,WAEdC,GAAUA,EAAM,MAAM,OAAO,KAAK,OAAO;AAAA;AAAA;AAAA,EAKlCD,EAAO;AAAA;AAAA;AAAA,SAGhBC,GAAUA,EAAM,MAAM,QAAQ,CAAC,CAAC;AAAA,EAG1BD,EAAO;AAAA;AAAA;AAAA;AAAA,EAMLA,EAAO;AAAA,WACbC,GAAUA,EAAM,MAAM,OAAO,KAAK,SAAS;AAAA;AAAA,EAIrCD,EAAO;AAAA,WACbC,GAAUA,EAAM,MAAM,OAAO,KAAK,OAAO;AAAA,EAGtCD,EAAO;AAAA,aACRC,GAAUA,EAAM,MAAM,QAAQ,EAAG,CAAC;AAAA,MACzCA,GAAUA,EAAM,MAAM,QAAQ,CAAC,CAAC;AAAA,mBACnBA,GAAUA,EAAM,MAAM,aAAa,KAAK;AAAA;AAAA;AAAA,sBAGrCA,GACnBA,EAAM,SAAW,YACbA,EAAM,MAAM,OAAO,OAAO,QAAU,KACpCA,EAAM,MAAM,OAAO,OAAO,QAAU,IAAI;AAAA,WACpCA,GACRA,EAAM,SAAW,YACbA,EAAM,MAAM,OAAO,OAAO,QAC1BA,EAAM,MAAM,OAAO,OAAO,OAAO;AAAA,EAGrBD,EAAO;AAAA,gBACVC,GAAUA,EAAM,MAAM,QAAQ,CAAC,CAAC;AAAA,EAG9BD,EAAO;AAAA;AAAA;AAAA,aAGZC,GAAUA,EAAM,MAAM,QAAQ,EAAG,CAAC;AAAA,8BACjBA,GAAUA,EAAM,MAAM,OAAO,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQ5CD,EAAO;AAAA;AAAA;AAAA,SAGnBC,GAAUA,EAAM,MAAM,QAAQ,CAAC,CAAC;AAAA,gBACzBA,GAAUA,EAAM,MAAM,QAAQ,CAAC,CAAC;AAAA,EAG5BD,EAAO;AAAA,aACdC,GAAUA,EAAM,MAAM,QAAQ,EAAG,CAAC;AAAA,MACzCA,GAAUA,EAAM,MAAM,QAAQ,CAAC,CAAC;AAAA,mBACnBA,GAAUA,EAAM,MAAM,aAAa,KAAK;AAAA;AAAA;AAAA;AAAA,SAIlDA,GAAUA,EAAM,MAAM,QAAQ,EAAG,CAAC;AAAA;AAAA;AAAA,sBAGrBA,GAAUA,EAAM,MAAM,OAAO,QAAQ,KAAO,IAAI;AAAA,WAC3DA,GAAUA,EAAM,MAAM,OAAO,QAAQ,IAAI;AAAA;AAAA;AAAA;AAAA,wBAI5BA,GAAUA,EAAM,MAAM,OAAO,QAAQ,KAAO,IAAI;AAAA;AAAA,EAIzE,MAAMS,EAAaV,EAAO;AAAA;AAAA;AAAA;AAAA;AAAA,aAKZC,GAAUA,EAAM,MAAM,QAAQ,CAAC,CAAC;AAAA;AAAA,EAIxCU,EAAYX,EAAO;AAAA,WACbC,GAAUA,EAAM,MAAM,OAAO,KAAK,SAAS;AAAA,gBACtCA,GAAUA,EAAM,MAAM,QAAQ,CAAC,CAAC;AAAA;AAAA,EAI3CW,EAAa,IAAM,CACvB,KAAM,CAACC,EAASC,CAAU,EAAIC,EAAA,SAAS,CAAE,CAAA,EACnC,CAACC,EAASC,CAAU,EAAIF,WAAS,EAAI,EACrC,CAACG,EAAYC,CAAa,EAAIJ,WAAS,EAAE,EACzC,CAACK,EAAcC,CAAe,EAAIN,WAAS,EAAE,EAC7C,CAACO,EAAYC,CAAa,EAAIR,WAAS,EAAE,EACzC,CAAE,KAAAS,GAASC,IACX,CAACC,EAAgBC,CAAiB,EAAIZ,WAAS,IAAI,EACnD,CAACa,EAAiBC,CAAkB,EAAId,WAAS,EAAK,EAE5De,EAAAA,UAAU,IAAM,CACEC,GAClB,EAAG,CAAE,CAAA,EAEL,MAAMA,EAAkB,SAAY,CAC9B,GAAA,CACFd,EAAW,EAAI,EAEf,MAAMe,EAAU,CAAA,GACZR,GAAA,YAAAA,EAAM,QAAS,kBACjBQ,EAAQ,WAAaR,EAAK,KAE5B,MAAMS,EAAO,MAAMC,EAAI,cAAcF,CAAO,EAC5ClB,EAAWmB,CAAI,QACRE,EAAO,CACN,QAAA,MAAM,8BAA+BA,CAAK,CAAA,QAClD,CACAlB,EAAW,EAAK,CAClB,CAAA,EAGImB,EAAkBvB,EAAQ,OAAQwB,GAAW,OAC3C,MAAAC,EACJpB,IAAe,MACfqB,EAAAF,EAAO,UAAP,YAAAE,EAAgB,KAAK,cAAc,SAASrB,EAAW,iBACvDmB,EAAO,WAAW,cAAc,SAASnB,EAAW,aAAa,EAE7DsB,EAAgBpB,IAAiB,IAAMiB,EAAO,SAAWjB,EAEzDqB,EAAcnB,IAAe,IAAMe,EAAO,aAAef,EAE/D,OAAOgB,GAAiBE,GAAiBC,CAAA,CAC1C,EAWKC,EAAoBL,GAAW,CACnCV,EAAkBU,CAAM,EACxBR,EAAmB,EAAI,CAAA,EAGzB,OAAIb,EAEA2B,EAACC,GACC,SAACD,EAAAE,EAAA,CAAmB,KAAK,UAAU,OAAO,OAAQ,CAAA,CACpD,CAAA,EAKFF,EAACC,EACC,CAAA,SAAAE,EAAC/C,EACC,CAAA,SAAA,CAAA+C,EAAC5C,EACC,CAAA,SAAA,CAAAyC,EAACxC,GAAM,SAAW,aAAA,CAAA,EAClBwC,EAACvC,EACC,CAAA,SAAA0C,EAACzC,EACC,CAAA,SAAA,CAACsC,EAAAI,EAAA,CAAS,MAAM,MAAO,CAAA,EACvBJ,EAAC,QAAA,CACC,KAAK,OACL,YAAY,4BACZ,MAAOzB,EACP,SAAW8B,GAAM7B,EAAc6B,EAAE,OAAO,KAAK,CAAA,CAC/C,CAAA,CAAA,CACF,CACF,CAAA,CAAA,EACF,IAEC1C,EACC,CAAA,SAAA,CAAAwC,EAACvC,EAAA,CACC,MAAOa,EACP,SAAW4B,GAAM3B,EAAgB2B,EAAE,OAAO,KAAK,EAE/C,SAAA,CAACL,EAAA,SAAA,CAAO,MAAM,GAAG,SAAU,aAAA,EAC1BA,EAAA,SAAA,CAAO,MAAM,YAAY,SAAS,YAAA,EAClCA,EAAA,SAAA,CAAO,MAAM,UAAU,SAAO,UAAA,CAAA,CAAA,CACjC,EACAG,EAACvC,EAAA,CACC,MAAOe,EACP,SAAW0B,GAAMzB,EAAcyB,EAAE,OAAO,KAAK,EAE7C,SAAA,CAACL,EAAA,SAAA,CAAO,MAAM,GAAG,SAAS,YAAA,EACzBA,EAAA,SAAA,CAAO,MAAM,aAAa,SAAU,aAAA,EACpCA,EAAA,SAAA,CAAO,MAAM,iBAAiB,SAAc,iBAAA,EAC5CA,EAAA,SAAA,CAAO,MAAM,QAAQ,SAAK,QAAA,EAC1BA,EAAA,SAAA,CAAO,MAAM,UAAU,SAAO,UAAA,EAC9BA,EAAA,SAAA,CAAO,MAAM,MAAM,SAAG,MAAA,CAAA,CAAA,CACzB,CAAA,EACF,EAECP,EAAgB,OAAS,EACxBO,EAACnC,GACE,SAAgB4B,EAAA,IAAKC,GACpBM,EAACM,EAAA,CAEC,OAAAZ,EACA,QAASK,CAAA,EAFJL,EAAO,GAIf,CAAA,CACH,CAAA,EAEAS,EAACpC,EACC,CAAA,SAAA,CAAAiC,EAACE,EAAmB,CAAA,KAAK,QAAQ,OAAO,QAAQ,EAChDF,EAAChC,GAAU,SAGX,iFAAA,CAAA,CAAA,EACF,EAGFgC,EAACO,EAAA,CACC,OAAQtB,EACR,QAAS,IAAMC,EAAmB,EAAK,EACvC,OAAQH,CAAA,CACV,CAAA,CACF,CAAA,CACF,CAAA,CAEJ"}