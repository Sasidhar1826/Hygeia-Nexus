{"version":3,"file":"MedicalRecords-90897908.js","sources":["../../src/pages/MedicalRecords.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { motion } from \"framer-motion\";\nimport {\n  FaSearch,\n  FaFileMedical,\n  FaFilePdf,\n  FaFileImage,\n  FaFileAlt,\n  FaVial,\n  FaFlask,\n  FaExclamationTriangle,\n  FaCheck,\n} from \"react-icons/fa\";\nimport Card from \"../components/ui/Card\";\nimport Button from \"../components/ui/Button\";\nimport Input from \"../components/ui/Input\";\nimport { useAuth } from \"../context/AuthContext\";\nimport PageTransition from \"../components/animations/PageTransition\";\nimport ViewLabReport from \"../components/modals/ViewLabReport\";\nimport LabReportCard from \"../components/medical/LabReportCard\";\nimport api from \"../services/apiService\";\nimport { toast } from \"react-hot-toast\";\n\nconst PageContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: ${(props) => props.theme.spacing(3)};\n`;\n\nconst TopBar = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-wrap: wrap;\n  gap: ${(props) => props.theme.spacing(2)};\n`;\n\nconst SearchContainer = styled.div`\n  display: flex;\n  align-items: center;\n  background-color: ${(props) => props.theme.colors.background.paper};\n  border-radius: ${(props) => props.theme.borderRadius.medium};\n  padding: ${(props) => props.theme.spacing(1)}\n    ${(props) => props.theme.spacing(2)};\n  width: 300px;\n  border: 1px solid #e2e8f0;\n\n  svg {\n    color: ${(props) => props.theme.colors.text.secondary};\n    margin-right: ${(props) => props.theme.spacing(1)};\n  }\n\n  input {\n    border: none;\n    background: transparent;\n    flex: 1;\n    color: ${(props) => props.theme.colors.text.primary};\n\n    &:focus {\n      outline: none;\n    }\n\n    &::placeholder {\n      color: ${(props) => props.theme.colors.text.disabled};\n    }\n  }\n`;\n\nconst TabsContainer = styled.div`\n  display: flex;\n  border-bottom: 1px solid ${(props) => props.theme.colors.background.card};\n  margin-bottom: ${(props) => props.theme.spacing(3)};\n`;\n\nconst Tab = styled.button`\n  padding: ${(props) => props.theme.spacing(1.5)}\n    ${(props) => props.theme.spacing(3)};\n  background: none;\n  border: none;\n  cursor: pointer;\n  font-weight: ${(props) => (props.$active ? \"600\" : \"400\")};\n  color: ${(props) =>\n    props.$active\n      ? props.theme.colors.primary.main\n      : props.theme.colors.text.secondary};\n  border-bottom: 2px solid\n    ${(props) =>\n      props.$active ? props.theme.colors.primary.main : \"transparent\"};\n  transition: all ${(props) => props.theme.transitions.default};\n\n  &:hover {\n    color: ${(props) => props.theme.colors.primary.main};\n  }\n`;\n\nconst RecordsGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n  gap: ${(props) => props.theme.spacing(3)};\n`;\n\nconst LabReportsContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: ${(props) => props.theme.spacing(3)};\n  width: 100%;\n`;\n\nconst RecordCard = styled(Card)`\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  transition: all ${(props) => props.theme.transitions.default};\n\n  &:hover {\n    transform: translateY(-5px);\n  }\n`;\n\nconst RecordHeader = styled.div`\n  display: flex;\n  align-items: center;\n  padding: ${(props) => props.theme.spacing(2)};\n  border-bottom: 1px solid ${(props) => props.theme.colors.background.card};\n`;\n\nconst RecordIcon = styled.div`\n  width: 48px;\n  height: 48px;\n  border-radius: ${(props) => props.theme.borderRadius.small};\n  background-color: ${(props) => props.color}20;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-right: ${(props) => props.theme.spacing(2)};\n\n  svg {\n    font-size: 24px;\n    color: ${(props) => props.color};\n  }\n`;\n\nconst RecordInfo = styled.div`\n  flex: 1;\n`;\n\nconst RecordTitle = styled.h3`\n  font-size: 16px;\n  font-weight: 600;\n  margin: 0;\n  margin-bottom: 4px;\n`;\n\nconst RecordDate = styled.p`\n  font-size: 14px;\n  color: ${(props) => props.theme.colors.text.secondary};\n  margin: 0;\n`;\n\nconst RecordContent = styled.div`\n  padding: ${(props) => props.theme.spacing(2)};\n`;\n\nconst RecordDetails = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: ${(props) => props.theme.spacing(1)};\n`;\n\nconst RecordDetail = styled.div`\n  display: flex;\n  justify-content: space-between;\n  font-size: 14px;\n\n  span:first-child {\n    color: ${(props) => props.theme.colors.text.secondary};\n  }\n\n  span:last-child {\n    font-weight: 500;\n  }\n`;\n\nconst RecordActions = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  margin-top: ${(props) => props.theme.spacing(2)};\n  gap: ${(props) => props.theme.spacing(1)};\n`;\n\nconst MedicalRecords = () => {\n  const [filter, setFilter] = useState(\"\");\n  const [activeTab, setActiveTab] = useState(\"all\");\n  const [records, setRecords] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const { user } = useAuth();\n  const [selectedLabReport, setSelectedLabReport] = useState(null);\n  const [showLabReportModal, setShowLabReportModal] = useState(false);\n\n  useEffect(() => {\n    const fetchRecords = async () => {\n      setLoading(true);\n      try {\n        // Fetch records from api\n        const medicalRecordsResponse = await api.getMedicalRecords();\n\n        // Fetch lab reports for the current user if they are a patient\n        let labReports = [];\n        if (user && user.role === \"patient\") {\n          try {\n            const labReportsResponse = await api.getLabReports({\n              patient: user._id,\n            });\n\n            // Check if labReportsResponse is an array before calling map\n            if (Array.isArray(labReportsResponse)) {\n              labReports = labReportsResponse.map((report) => ({\n                ...report,\n                id: report._id,\n                fileType: \"lab\",\n                rawReport: report,\n              }));\n            } else {\n              console.error(\n                \"Error: Lab reports response is not an array:\",\n                labReportsResponse\n              );\n              // If there's data property that might contain the array\n              if (\n                labReportsResponse &&\n                Array.isArray(labReportsResponse.data)\n              ) {\n                labReports = labReportsResponse.data.map((report) => ({\n                  ...report,\n                  id: report._id,\n                  fileType: \"lab\",\n                  rawReport: report,\n                }));\n              } else {\n                // Handle case where response is not as expected\n                labReports = [];\n              }\n            }\n          } catch (error) {\n            console.error(\"Error fetching lab reports:\", error);\n          }\n        }\n\n        setRecords([...medicalRecordsResponse, ...labReports]);\n        setLoading(false);\n      } catch (error) {\n        console.error(\"Error fetching records:\", error);\n        setLoading(false);\n      }\n    };\n\n    fetchRecords();\n  }, [user]);\n\n  const getFileIcon = (fileType) => {\n    switch (fileType) {\n      case \"pdf\":\n        return <FaFilePdf />;\n      case \"image\":\n        return <FaFileImage />;\n      case \"document\":\n        return <FaFileAlt />;\n      case \"lab\":\n        return <FaFlask />;\n      default:\n        return <FaFileMedical />;\n    }\n  };\n\n  const getFileColor = (fileType) => {\n    switch (fileType) {\n      case \"pdf\":\n        return (props) => props.theme.colors.status.error;\n      case \"image\":\n        return (props) => props.theme.colors.info;\n      case \"document\":\n        return (props) => props.theme.colors.primary.main;\n      case \"lab\":\n        return (props) => props.theme.colors.secondary;\n      default:\n        return (props) => props.theme.colors.success;\n    }\n  };\n\n  const filteredRecords = records.filter((record) => {\n    const matchesSearch =\n      record.type.toLowerCase().includes(filter.toLowerCase()) ||\n      record.doctor.toLowerCase().includes(filter.toLowerCase()) ||\n      (record.reportType &&\n        record.reportType.toLowerCase().includes(filter.toLowerCase()));\n\n    if (activeTab === \"all\") return matchesSearch;\n    if (activeTab === \"lab\" && record.fileType === \"lab\") return matchesSearch;\n    if (activeTab === \"diagnosis\" && record.type === \"Diagnosis\")\n      return matchesSearch;\n    if (\n      activeTab === \"imaging\" &&\n      (record.type === \"X-Ray\" ||\n        record.type === \"MRI\" ||\n        record.type === \"CT Scan\")\n    )\n      return matchesSearch;\n\n    return false;\n  });\n\n  const handleViewLabReport = (report) => {\n    if (report._id) {\n      setSelectedLabReport(report);\n      setShowLabReportModal(true);\n    } else if (report.fileType === \"lab\" && report.rawReport) {\n      setSelectedLabReport(report.rawReport);\n      setShowLabReportModal(true);\n    }\n  };\n\n  const handleDeleteRecord = async (recordId) => {\n    try {\n      await api.deleteMedicalRecord(recordId);\n      setRecords(records.filter((record) => record.id !== recordId));\n      toast.success(\"Record deleted successfully\");\n    } catch (error) {\n      console.error(\"Error deleting record:\", error);\n      toast.error(\"Failed to delete record\");\n    }\n  };\n\n  return (\n    <PageTransition>\n      <PageContainer>\n        <TopBar>\n          <h1>Medical Records</h1>\n          <SearchContainer>\n            <FaSearch />\n            <input\n              type=\"text\"\n              placeholder=\"Search records...\"\n              value={filter}\n              onChange={(e) => setFilter(e.target.value)}\n            />\n          </SearchContainer>\n        </TopBar>\n\n        <TabsContainer>\n          <Tab\n            $active={activeTab === \"all\"}\n            onClick={() => setActiveTab(\"all\")}\n          >\n            All Records\n          </Tab>\n          <Tab\n            $active={activeTab === \"lab\"}\n            onClick={() => setActiveTab(\"lab\")}\n          >\n            Lab Reports\n          </Tab>\n          <Tab\n            $active={activeTab === \"diagnosis\"}\n            onClick={() => setActiveTab(\"diagnosis\")}\n          >\n            Diagnoses\n          </Tab>\n          <Tab\n            $active={activeTab === \"imaging\"}\n            onClick={() => setActiveTab(\"imaging\")}\n          >\n            Imaging\n          </Tab>\n        </TabsContainer>\n\n        {loading ? (\n          <div>Loading records...</div>\n        ) : filteredRecords.length > 0 ? (\n          <>\n            {activeTab === \"lab\" ? (\n              <LabReportsContainer>\n                {filteredRecords.map((record) => (\n                  <LabReportCard\n                    key={record.id}\n                    report={record.rawReport}\n                    onClick={handleViewLabReport}\n                  />\n                ))}\n              </LabReportsContainer>\n            ) : (\n              <RecordsGrid>\n                {filteredRecords.map((record) =>\n                  record.fileType === \"lab\" ? (\n                    <LabReportCard\n                      key={record.id}\n                      report={record.rawReport}\n                      onClick={handleViewLabReport}\n                    />\n                  ) : (\n                    <RecordCard\n                      key={record.id}\n                      onClick={() =>\n                        record.fileType === \"lab\"\n                          ? handleViewLabReport(record)\n                          : null\n                      }\n                      style={{\n                        cursor:\n                          record.fileType === \"lab\" ? \"pointer\" : \"default\",\n                      }}\n                    >\n                      <RecordHeader>\n                        <RecordIcon color={getFileColor(record.fileType)}>\n                          {getFileIcon(record.fileType)}\n                        </RecordIcon>\n                        <RecordInfo>\n                          <RecordTitle>\n                            {record.reportType || record.type}\n                          </RecordTitle>\n                          <RecordDate>\n                            {new Date(record.date).toLocaleDateString()}\n                          </RecordDate>\n                        </RecordInfo>\n                      </RecordHeader>\n                      <RecordContent>\n                        <RecordDetails>\n                          <RecordDetail>\n                            <span>Provider:</span>\n                            <span>{record.doctor}</span>\n                          </RecordDetail>\n                          <RecordDetail>\n                            <span>Department:</span>\n                            <span>{record.department}</span>\n                          </RecordDetail>\n\n                          {record.details && record.details.notes && (\n                            <div\n                              style={{ marginTop: \"10px\", fontSize: \"0.9em\" }}\n                            >\n                              <div\n                                style={{\n                                  fontWeight: \"600\",\n                                  marginBottom: \"5px\",\n                                }}\n                              >\n                                Notes:\n                              </div>\n                              <div>{record.details.notes}</div>\n                            </div>\n                          )}\n                        </RecordDetails>\n                        <RecordActions>\n                          <Button size=\"small\">View Details</Button>\n                        </RecordActions>\n                      </RecordContent>\n                    </RecordCard>\n                  )\n                )}\n              </RecordsGrid>\n            )}\n          </>\n        ) : (\n          <div style={{ textAlign: \"center\", marginTop: \"40px\" }}>\n            <h3>No records found</h3>\n            <p>\n              {filter\n                ? \"Try adjusting your search criteria\"\n                : \"You don't have any medical records yet\"}\n            </p>\n          </div>\n        )}\n\n        <ViewLabReport\n          isOpen={showLabReportModal}\n          onClose={() => setShowLabReportModal(false)}\n          report={selectedLabReport}\n        />\n      </PageContainer>\n    </PageTransition>\n  );\n};\n\nexport default MedicalRecords;\n"],"names":["PageContainer","styled","props","TopBar","SearchContainer","TabsContainer","Tab","RecordsGrid","LabReportsContainer","RecordCard","Card","RecordHeader","RecordIcon","RecordInfo","RecordTitle","RecordDate","RecordContent","RecordDetails","RecordDetail","RecordActions","MedicalRecords","filter","setFilter","useState","activeTab","setActiveTab","records","setRecords","loading","setLoading","user","useAuth","selectedLabReport","setSelectedLabReport","showLabReportModal","setShowLabReportModal","useEffect","medicalRecordsResponse","api","labReports","labReportsResponse","report","error","getFileIcon","fileType","FaFilePdf","FaFileImage","FaFileAlt","FaFlask","FaFileMedical","getFileColor","filteredRecords","record","matchesSearch","handleViewLabReport","jsx","PageTransition","jsxs","FaSearch","e","Fragment","LabReportCard","Button","ViewLabReport"],"mappings":"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"}